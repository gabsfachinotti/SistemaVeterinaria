@model IEnumerable<SistemaVeterinaria.Models.Surgery>

@{
    ViewBag.Title = "Index";
}

<div style="width: 100%;display: inline-flex">
    <div style="width: 25%"><a id="createSurgery" class="btn btn-success" style="margin-top: 6%">Agregar Cirugía</a></div>
    <div style="width: 50%">
        <h2 class="text-center">Notificaciones de Cirugías</h2>
    </div>
    <div class="text-right" style="width: 25%"><a id="openSurgeryTypes" class="btn btn-primary" style="margin-top: 6%">Cirugías</a></div>
</div>
<hr style="color: grey; border-color: grey; margin-top: 0" />
<table id="table" class="table table-bordered">
    <thead>
        <tr>
            <th>
                Nro
            </th>
            <th>
                Paciente
            </th>
            <th class="text-center">
                Cirugía
            </th>
            <th class="text-center">
                Fecha
            </th>
            <th class="text-center">
                Opciones
            </th>
        </tr>
    </thead>

<tbody>
    @foreach (var item in Model)
    {
        <tr>
            <td>
                @item.SurgeryId
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Pet.PetName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SurgeryType.SurgeryTypeName)
            </td>
            <td>
                <text>@item.SurgeryDate.ToString("yyyy/MM/dd").Split('/')[0]@item.SurgeryDate.ToString("yyyy/MM/dd").Split('/')[1]@item.SurgeryDate.ToString("yyyy/MM/dd").Split('/')[2]</text>
                <text>@item.SurgeryDate.ToShortDateString()</text>
            </td>
            <td class="text-center">
                <button class="btn btn-primary btn-sm"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                <button class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
            </td>
        </tr>
    }
</tbody>
</table>

<div id="modalSurgeryTypes" class="modal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="closeSurgeryTypes">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h5 class="modal-title text-center">Cirugías</h5>
            </div>
            <div class="modal-body">
                
            </div>
            <div class="modal-footer">
                <button id="Cancel" type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <script>
        $('#table').DataTable({
            order: [[3, "asc"]],
            "language": {
                "url": "/Scripts/DataTables/spanish.json"
            }
        });

        $('#openSurgeryTypes').click(function () {
            $('#modalSurgeryTypes').show('slow');
        });
    </script>
}
